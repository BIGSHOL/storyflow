@import "tailwindcss";

/* html2canvas 호환성을 위해 oklch 색상을 RGB로 오버라이드 */
:root {
  /* Gray scale */
  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;
  --color-gray-950: #030712;
  
  /* Indigo */
  --color-indigo-50: #eef2ff;
  --color-indigo-100: #e0e7ff;
  --color-indigo-200: #c7d2fe;
  --color-indigo-300: #a5b4fc;
  --color-indigo-400: #818cf8;
  --color-indigo-500: #6366f1;
  --color-indigo-600: #4f46e5;
  --color-indigo-700: #4338ca;
  --color-indigo-800: #3730a3;
  --color-indigo-900: #312e81;
  
  /* Purple */
  --color-purple-400: #c084fc;
  --color-purple-500: #a855f7;
  --color-purple-600: #9333ea;
  
  /* Red */
  --color-red-400: #f87171;
  --color-red-500: #ef4444;
  --color-red-600: #dc2626;
  --color-red-900: #7f1d1d;
  
  /* Green */
  --color-green-400: #4ade80;
  --color-green-500: #22c55e;
  --color-green-600: #16a34a;
  
  /* Yellow */
  --color-yellow-400: #facc15;
  --color-yellow-500: #eab308;
  
  /* Blue */
  --color-blue-400: #60a5fa;
  --color-blue-500: #3b82f6;
  --color-blue-600: #2563eb;
  
  /* White/Black */
  --color-white: #ffffff;
  --color-black: #000000;
}

/* Hide scrollbar for Chrome, Safari and Opera */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
.no-scrollbar {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

/* 모든 스크롤바 숨기기 (전역) */
* {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */
}

*::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

/* Custom Animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideDown {
  from { opacity: 0; transform: translateY(-30px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideLeft {
  from { opacity: 0; transform: translateX(30px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes slideRight {
  from { opacity: 0; transform: translateX(-30px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes zoomIn {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes zoomOut {
  from { opacity: 0; transform: scale(1.1); }
  to { opacity: 1; transform: scale(1); }
}

/* ========== 파티클 이펙트 애니메이션 ========== */

/* 파티클 컨테이너 */
.particle-container {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
  z-index: 20;
}

/* 전역 파티클 컨테이너 (PARTICLE 레이아웃용) */
.particle-container-global {
  position: fixed;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
  z-index: 9999;
}

/* 기본 파티클 스타일 */
.particle {
  position: absolute;
  will-change: transform, opacity;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}

/* 낙하 애니메이션 (눈, 꽃잎, 낙엽) */
@keyframes particleFall {
  0% {
    transform: translateY(0) translateX(0) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(95vh) translateX(var(--particle-sway, 50px)) rotate(var(--particle-rotation, 360deg));
    opacity: 0.3;
  }
}

/* 흔들리며 낙하 (꽃잎, 벚꽃, 낙엽) - 바람에 흔들리듯 자연스럽게 */
@keyframes particleSwayFall {
  0% {
    transform: translateY(0) translateX(0) rotate(0deg) scale(1);
    opacity: 1;
  }
  10% {
    transform: translateY(8vh) translateX(25px) rotate(35deg) scale(0.98);
  }
  25% {
    transform: translateY(22vh) translateX(-15px) rotate(95deg) scale(0.95);
  }
  35% {
    transform: translateY(32vh) translateX(40px) rotate(140deg) scale(0.93);
  }
  50% {
    transform: translateY(48vh) translateX(-25px) rotate(200deg) scale(0.9);
  }
  65% {
    transform: translateY(62vh) translateX(35px) rotate(260deg) scale(0.87);
  }
  80% {
    transform: translateY(78vh) translateX(-10px) rotate(320deg) scale(0.85);
    opacity: 0.7;
  }
  100% {
    transform: translateY(95vh) translateX(20px) rotate(400deg) scale(0.8);
    opacity: 0;
  }
}

/* 부유 애니메이션 (거품, 하트) - 아래에서 위로 천천히 떠오름 */
@keyframes particleFloat {
  0% {
    transform: translateY(0) translateX(0) scale(1);
    opacity: 0.8;
  }
  25% {
    transform: translateY(-25vh) translateX(15px) scale(0.95);
    opacity: 1;
  }
  50% {
    transform: translateY(-50vh) translateX(-10px) scale(0.9);
    opacity: 1;
  }
  75% {
    transform: translateY(-75vh) translateX(20px) scale(0.85);
    opacity: 0.8;
  }
  100% {
    transform: translateY(-100vh) translateX(5px) scale(0.8);
    opacity: 0;
  }
}

/* 반짝임 애니메이션 (반짝임) - 전체 화면에 분포 */
@keyframes particleTwinkle {
  0%, 100% {
    opacity: 0.2;
    transform: scale(0.8);
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
  }
}

/* 유성 애니메이션 (별똥별) - 빠르게 대각선 낙하 */
@keyframes particleShootingStar {
  0% {
    transform: translateX(0) translateY(0) scale(1);
    opacity: 1;
  }
  20% {
    transform: translateX(40px) translateY(25vh) scale(0.9);
    opacity: 1;
  }
  50% {
    transform: translateX(100px) translateY(55vh) scale(0.7);
    opacity: 0.9;
  }
  80% {
    transform: translateX(160px) translateY(80vh) scale(0.4);
    opacity: 0.5;
  }
  100% {
    transform: translateX(200px) translateY(100vh) scale(0.2);
    opacity: 0;
  }
}

/* 날아다니는 애니메이션 (나비) - 제자리에서 사뿐사뿐 */
@keyframes particleFlutter {
  0% {
    transform: translateX(0) translateY(0) rotate(0deg);
  }
  20% {
    transform: translateX(30px) translateY(-20px) rotate(8deg);
  }
  40% {
    transform: translateX(-20px) translateY(15px) rotate(-5deg);
  }
  60% {
    transform: translateX(25px) translateY(-10px) rotate(10deg);
  }
  80% {
    transform: translateX(-15px) translateY(25px) rotate(-8deg);
  }
  100% {
    transform: translateX(0) translateY(0) rotate(0deg);
  }
}

/* 불티 상승 애니메이션 - 아래에서 위로 흔들리며 올라감 */
@keyframes particleEmber {
  0% {
    transform: translateY(0) translateX(0) scale(1);
    opacity: 1;
  }
  25% {
    transform: translateY(-25vh) translateX(10px) scale(0.9);
    opacity: 0.9;
  }
  50% {
    transform: translateY(-50vh) translateX(-8px) scale(0.7);
    opacity: 0.7;
  }
  75% {
    transform: translateY(-75vh) translateX(15px) scale(0.5);
    opacity: 0.5;
  }
  100% {
    transform: translateY(-100vh) translateX(5px) scale(0.3);
    opacity: 0;
  }
}

/* 날개 펄럭임 (나비용) */
@keyframes wingFlap {
  0%, 100% { transform: scaleX(1); }
  50% { transform: scaleX(0.3); }
}

/* 파티클 타입별 기본 스타일 */
.particle-petal {
  width: 12px;
  height: 12px;
  background: radial-gradient(ellipse at 30% 30%, #ffb7c5, #ff69b4);
  border-radius: 50% 0 50% 50%;
  animation-name: particleSwayFall;
}

.particle-star {
  width: 6px;
  height: 6px;
  background: linear-gradient(135deg, #ffffff 0%, #fffacd 50%, #ffd700 100%);
  border-radius: 50%;
  box-shadow:
    0 0 12px 4px rgba(255, 255, 255, 1),
    0 0 20px 8px rgba(255, 215, 0, 0.6),
    -6px -8px 0 2px rgba(255, 255, 255, 0.8),
    -14px -18px 0 2px rgba(255, 255, 200, 0.6),
    -24px -30px 0 1px rgba(255, 255, 150, 0.4),
    -36px -44px 0 1px rgba(255, 255, 100, 0.25),
    -50px -60px 0 1px rgba(255, 255, 50, 0.1);
  animation-name: particleShootingStar;
}

.particle-heart {
  width: 14px;
  height: 14px;
  background: #ff6b81;
  animation-name: particleFloat;
}

.particle-heart::before,
.particle-heart::after {
  content: '';
  position: absolute;
  width: 14px;
  height: 14px;
  background: inherit;
  border-radius: 50%;
}

.particle-heart::before {
  top: -7px;
  left: 0;
}

.particle-heart::after {
  top: 0;
  left: 7px;
}

.particle-butterfly {
  width: 20px;
  height: 16px;
  animation-name: particleFlutter;
}

.particle-butterfly-wing {
  position: absolute;
  width: 10px;
  height: 16px;
  background: linear-gradient(135deg, #87ceeb 0%, #4169e1 50%, #9370db 100%);
  border-radius: 50% 50% 30% 30%;
  animation: wingFlap 0.15s ease-in-out infinite;
}

.particle-butterfly-wing.left {
  left: 0;
  transform-origin: right center;
}

.particle-butterfly-wing.right {
  right: 0;
  transform-origin: left center;
  animation-delay: 0.075s;
}

.particle-sparkle {
  width: 6px;
  height: 6px;
  background: white;
  border-radius: 50%;
  box-shadow: 0 0 6px 2px rgba(255, 255, 255, 0.8);
  animation-name: particleTwinkle;
  animation-duration: 1.5s !important;
}

.particle-snowflake {
  width: 10px;
  height: 10px;
  background: white;
  border-radius: 50%;
  box-shadow: 0 0 4px rgba(255, 255, 255, 0.8);
  animation-name: particleFall;
}

.particle-leaf {
  width: 16px;
  height: 10px;
  background: linear-gradient(135deg, #d2691e 0%, #8b4513 50%, #a0522d 100%);
  border-radius: 0 80% 0 80%;
  animation-name: particleSwayFall;
}

.particle-sakura {
  width: 14px;
  height: 14px;
  background: radial-gradient(ellipse at 30% 30%, #fff0f5, #ffb6c1);
  border-radius: 50% 0 50% 50%;
  animation-name: particleSwayFall;
}

.particle-bubble {
  width: 16px;
  height: 16px;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.8), rgba(135,206,250,0.3));
  border-radius: 50%;
  border: 1px solid rgba(255,255,255,0.4);
  animation-name: particleFloat;
}

.particle-ember {
  width: 4px;
  height: 4px;
  background: radial-gradient(circle, #ff6600, #ff3300);
  border-radius: 50%;
  box-shadow: 0 0 6px 2px rgba(255, 100, 0, 0.6);
  animation-name: particleEmber;
}

/* 애니메이션 감소 설정 존중 */
@media (prefers-reduced-motion: reduce) {
  .particle-container,
  .particle-container-global {
    display: none;
  }
}

/* 성능 최적화: content-visibility로 오프스크린 요소 렌더링 지연 */
.section-preview {
  content-visibility: auto;
  contain-intrinsic-size: 0 100vh;
}

.editor-section-item {
  content-visibility: auto;
  contain-intrinsic-size: 0 120px;
}
